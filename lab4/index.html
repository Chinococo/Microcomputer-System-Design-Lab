<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
	<script src="js/jquery.js"></script>
</head>
<form onsubmit="logCheckboxStates(event)">
    <label>
      <input type="checkbox" name="option1" value="Option 1">
      Option 1
    </label>
    <br>
    <label>
      <input type="checkbox" name="option2" value="Option 2">
      Option 2
    </label>
    <br>
    <label>
      <input type="checkbox" name="option3" value="Option 3">
      Option 3
    </label>
    <br>
    <label>
      <input type="checkbox" name="option4" value="Option 4">
      Option 4
    </label>
    <br>
    <button type="submit">Submit</button>
  </form>
  
  <script>
    function logCheckboxStates(event) {
      event.preventDefault(); // prevent the default form submission behavior
      const checkboxes = document.querySelectorAll('input[type="checkbox"]');
      let params = {};
      checkboxes.forEach(checkbox => {
        params[checkbox.name]=checkbox.checked;
        console.log(checkbox.name + ': ' + checkbox.checked);
      });  
      console.log(params);
      $.ajax({
        url: '/gpio?'+Object.keys(params).map(key => key + '=' + encodeURIComponent(params[key])).join('&'),
        method: 'GET',
        success: function(result) {
          console.log('Result: ', result);
        }
      });
     
    }
  </script>
</html>

